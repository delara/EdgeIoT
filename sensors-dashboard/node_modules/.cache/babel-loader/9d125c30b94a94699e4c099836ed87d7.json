{"ast":null,"code":"import _classCallCheck from \"/Users/Farhad/Desktop/socket/sensors-dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/Users/Farhad/Desktop/socket/sensors-dashboard/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Farhad/Desktop/socket/sensors-dashboard/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Farhad/Desktop/socket/sensors-dashboard/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Farhad/Desktop/socket/sensors-dashboard/src/Dashboard.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Input, InputGroup, InputGroupAddon, Button } from \"reactstrap\";\nimport axios from 'axios';\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Dashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      sensors: [],\n      showUrl: false,\n      send_data: false,\n      url: ''\n    };\n\n    _this.componentDidMount = function () {\n      _this.getSensors();\n    };\n\n    _this.getSensors = function () {\n      axios.get('http://0.0.0.0:5000/sensors').then(function (res) {\n        var sensors = [];\n\n        for (var sensorKey in res.data.sensors) {\n          sensors.push(res.data.sensors[sensorKey]);\n        }\n\n        _this.setState({\n          sensors: sensors\n        });\n\n        console.log(sensors);\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        className: \"m-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex align-items-center justify-content-center mt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Sensors dashboard\")), React.createElement(Container, {\n        style: {\n          marginTop: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, _this.state.sensors.map(function (_) {\n        return React.createElement(Row, {\n          className: \"d-flex align-items-center mt-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          style: {\n            width: 100\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, \"Air Pollution\"), React.createElement(Progress, {\n          style: {\n            width: 300,\n            marginBottom: 5\n          },\n          value: _this.state.airQaulity.toString(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }));\n      }), React.createElement(Row, {\n        className: \"mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, _this.state.showUrl ? React.createElement(InputGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: function onChange(event) {\n          return _this.setState({\n            url: event.target.value\n          });\n        },\n        value: _this.state.url,\n        placeholder: \"URL of destination\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(InputGroupAddon, {\n        addonType: \"append\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })) : React.createElement(\"p\", {\n        onClick: function onClick(_) {\n          return _this.setState({\n            showUrl: true\n          });\n        },\n        style: {\n          color: 'blue',\n          cursor: 'pointer'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"send data\"))));\n    };\n\n    return _this;\n  }\n\n  return Dashboard;\n}(Component);\n\nexport default Dashboard;","map":{"version":3,"sources":["/Users/Farhad/Desktop/socket/sensors-dashboard/src/Dashboard.js"],"names":["React","Component","Container","Row","Input","InputGroup","InputGroupAddon","Button","axios","Dashboard","state","sensors","showUrl","send_data","url","componentDidMount","getSensors","get","then","res","sensorKey","data","push","setState","console","log","render","marginTop","map","_","width","marginBottom","airQaulity","toString","event","target","value","color","cursor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n    Container,\n    Row,\n    Input,\n    InputGroup,\n    InputGroupAddon,\n    Button\n} from \"reactstrap\";\nimport axios from 'axios';\n\n\nclass Dashboard extends Component {\n\n    state = {\n        sensors: [],\n        showUrl: false,\n        send_data: false,\n        url: ''\n    }\n\n    componentDidMount = () => {\n        this.getSensors()\n    }\n\n    getSensors = () => {\n        axios.get('http://0.0.0.0:5000/sensors')\n            .then(\n                res => {\n                    var sensors = []\n                    for (var sensorKey in res.data.sensors) {\n                        sensors.push(res.data.sensors[sensorKey])\n                    }\n                    this.setState({ sensors })\n                    console.log(sensors)\n                }\n            )\n    }\n\n    render = () => {\n        return (\n            <div className='m-5'>\n                <div className='d-flex align-items-center justify-content-center mt-2'>\n                    <h1>Sensors dashboard</h1>\n                </div>\n                <Container style={{ marginTop: 50 }}>\n                    {this.state.sensors.map(_ => (\n                        <Row className='d-flex align-items-center mt-5'>\n                            <h5 style={{ width: 100 }}>Air Pollution</h5>\n                            <Progress style={{ width: 300, marginBottom: 5 }} value={this.state.airQaulity.toString()} />\n                        </Row>\n                    ))}\n\n\n                    <Row className='mt-5'>\n                        {this.state.showUrl ? (\n                            <InputGroup>\n                                <Input onChange={event => this.setState({ url: event.target.value })} value={this.state.url} placeholder=\"URL of destination\" />\n                                <InputGroupAddon addonType=\"append\">\n                                    {/* <Button\n                                        onClick={_ => {\n                                            this.setState(prevState => ({ send_data: !prevState.send_data }),\n                                                _ => io.emit('url_info', { url: this.state.url, send_data: this.state.send_data })\n                                            )\n                                        }}\n                                        style={{ backgroundColor: this.state.send_data ? 'red' : 'green' }}>{this.state.send_data ? 'STOP' : 'SEND'}</Button> */}\n                                </InputGroupAddon>\n                            </InputGroup>\n                        ) : (\n                                <p onClick={_ => this.setState({ showUrl: true })} style={{ color: 'blue', cursor: 'pointer' }}>send data</p>\n                            )}\n                    </Row>\n                </Container>\n\n            </div>\n\n        )\n    }\n}\n\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}